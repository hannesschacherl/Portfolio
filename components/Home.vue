<template>
    <div class="w-full h-full flex items-center justify-center">
        <div
            class="container mx-auto p-6 md:p-2 lg:px-32 h-[700px] pb-6 flex items-center justify-center"
        >
            <div
                class="h-full max-w-[800px] gap-4 grid grid-rows-6 grid-cols-2 md:grid md:grid-rows-6 md:grid-cols-3"
            >
                <div
                    class="container1 transform -translate-y-24 opacity-0 rounded-2xl bg-white shadow-md dark:bg-[#3D3D3D] row-span-3 md:row-span-3 md:col-start-3 md:row-start-1 flex items-center justify-center"
                >
                    <!-- <img
                        src=""
                        alt="Portrait"
                        class="Portrait w-full h-full rounded-2xl object-cover"
                    /> -->
                    <svg
                        class="w-full h-full"
                        viewBox="0 0 125 161"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M49.9149 87.1543C49.9149 87.1543 32.2759 91.8083 31.6009 96.3113C30.9259 100.815 34.2279 101.64 34.2279 101.64C34.2279 101.64 29.7999 101.04 29.9499 104.492C30.0999 107.945 33.7779 111.322 39.4069 112.974C45.0359 114.625 58.9219 114.775 61.1739 119.279C61.1739 119.279 63.7259 116.277 73.4839 115.676C83.2409 115.076 87.7289 109.854 87.7289 109.854C87.7289 109.854 90.8969 105.431 89.9969 103.217C89.0959 101.003 85.6439 101.678 85.6439 101.678C85.6439 101.678 88.6459 99.9893 88.1959 95.7113C87.7459 91.4333 69.7319 86.7793 69.7319 86.7793L49.9149 87.1543Z"
                            fill="#FF9933"
                        />
                        <path
                            d="M50.4739 101.992L48.2639 103.441L8.63293 124.082C8.63293 124.082 1.77793 141.545 0.0759277 160.56H124.972C124.972 160.56 120.969 129.336 114.664 124.432C108.359 119.528 74.0829 103.216 74.0829 103.216L50.4739 101.992Z"
                            fill="#FF9933"
                        />
                        <path
                            d="M50.0649 90.457C50.0649 90.457 38.2059 91.133 42.9339 103.029C42.9339 103.029 50.8009 107.315 58.8639 114.523H62.8309C62.8309 114.523 66.7269 113.625 71.5309 109.321C75.5799 105.694 79.1219 102.351 80.5169 101.188C80.8049 100.948 80.7819 100.488 80.4569 100.3C79.9319 99.996 79.0949 99.739 78.0609 100.214C78.0609 100.214 80.3879 99.313 80.1249 96.686C79.8619 94.059 73.7449 91.019 70.1799 91.132C66.6149 91.245 50.0649 90.457 50.0649 90.457Z"
                            fill="#F77D2B"
                        />
                        <path
                            d="M48.8639 83.7031L50.5149 102.467L48.2629 103.443C48.2629 103.443 59.1459 113.951 60.7229 117.104C60.7229 117.104 69.1299 106.446 74.0829 103.218L70.4799 100.816V83.3281L48.8639 83.7031Z"
                            fill="#F6B994"
                        />
                        <path
                            d="M70.4809 93.7632V83.3262L48.8639 83.7012L49.3369 89.0712C51.8819 91.9632 58.9589 98.0892 70.4809 93.7632Z"
                            fill="#F38B82"
                        />
                        <path
                            d="M93.9209 50.6753C93.9209 50.6753 99.5339 46.8883 101.577 54.6533C104.005 63.8853 91.9699 77.5463 82.9629 74.2433L93.9209 50.6753Z"
                            fill="#F6B994"
                        />
                        <path
                            d="M96.9379 57.2093C96.9379 57.2093 98.3869 56.7553 98.9879 58.8573C99.5889 60.9593 95.7329 65.1243 93.2699 65.0873C93.2699 65.0873 92.0359 59.6523 96.9379 57.2093Z"
                            fill="#F38B82"
                        />
                        <path
                            d="M98.1989 56.4805C98.1989 56.4805 93.1949 58.6825 93.1949 63.5855"
                            stroke="#D1937D"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M98.1989 59.4336C98.1989 59.4336 94.8439 60.4766 93.2689 62.5816"
                            stroke="#D1937D"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M26.122 50.6753C26.122 50.6753 20.509 46.8883 18.466 54.6533C16.038 63.8853 28.073 77.5463 37.08 74.2433L26.122 50.6753Z"
                            fill="#F6B994"
                        />
                        <path
                            d="M25.1959 48.7744C25.1959 48.7744 28.4499 81.8874 57.6529 88.5924C59.1089 88.9264 60.6169 88.9854 62.0899 88.7404C68.9089 87.6044 88.1609 81.6294 93.7489 50.2514L83.4409 16.1504H31.7189L25.1959 48.7744Z"
                            fill="#F6B994"
                        />
                        <path
                            d="M54.5929 64.0312C54.5929 64.0312 56.0189 65.1383 58.9719 65.1383C60.4729 65.1383 61.6759 64.8523 62.4969 64.5713C63.0059 64.3973 63.4499 64.9303 63.1939 65.4033C62.6009 66.4953 61.4129 67.8412 59.1599 67.8412C55.3689 67.8392 54.5929 64.0312 54.5929 64.0312Z"
                            fill="#F38B82"
                        />
                        <path
                            d="M25.1959 48.7754C25.1959 48.7754 28.2979 81.4004 58.9719 88.8914C58.9719 88.8914 86.9189 88.8914 93.7489 50.2514"
                            stroke="#D1937D"
                            stroke-width="0.75"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M33.7019 32.1621C33.7019 32.1621 36.1039 36.9661 25.0949 51.3771C25.0949 51.3771 22.3429 40.4681 25.0949 31.1611C25.0949 31.1611 19.6909 31.1611 18.4899 24.8561C18.4899 24.8561 19.3659 23.7301 21.9929 24.2561C21.9929 24.2561 17.2639 24.1811 16.2889 18.4021C15.5489 14.0201 16.6219 9.72314 17.1839 7.90314C17.3099 7.49514 17.8149 7.36814 18.1319 7.65614C19.4359 8.84214 22.7469 11.1251 28.2239 10.2211C28.2239 10.2211 27.3229 6.91914 28.9749 4.29114C28.9749 4.29114 36.8059 6.84314 41.2089 5.14214C45.6119 3.44114 58.3219 -2.91386 69.8809 5.49214L67.5539 0.538143C67.5539 0.538143 77.4369 -0.862855 80.4389 10.1451C80.4389 10.1451 87.5439 8.44414 92.6479 17.8511C97.7519 27.2581 96.2509 30.1601 98.1519 31.0611C98.1519 31.0611 96.6009 32.2871 94.5739 30.7111C94.5739 30.7111 97.1259 42.4951 95.4749 50.2261L93.2229 51.8771C93.2229 51.8771 85.6419 34.7641 83.4399 32.3621C83.4399 32.3621 76.0339 30.7111 73.4819 25.6071C73.4819 25.6071 65.3769 32.5121 33.7019 32.1621Z"
                            fill="#432400"
                        />
                        <path
                            d="M31.7009 30.8609C30.8819 31.4979 30.0019 31.8449 29.2839 32.0349C28.4759 32.2479 27.6469 31.7779 27.3989 30.9799L27.1219 30.0879C26.9249 29.4529 26.2889 29.0389 25.6349 29.1599C23.0409 29.6389 20.5479 28.9629 20.3519 28.8789C22.3629 31.1499 25.0949 31.1619 25.0949 31.1619C22.3429 40.4689 25.0949 51.3779 25.0949 51.3779C36.1029 36.9669 33.7019 32.1629 33.7019 32.1629C33.1019 31.3609 31.7009 30.8609 31.7009 30.8609Z"
                            fill="#432400"
                        />
                        <path
                            d="M95.4749 50.2259C96.8409 43.8309 95.3319 34.6699 94.7689 31.6919C93.7869 31.2179 92.8189 30.3789 92.0839 29.6429C91.4379 28.9959 90.3709 29.0099 89.7529 29.6849C87.2649 32.3999 83.4409 32.3629 83.4409 32.3629C85.6429 34.7649 93.2239 51.8779 93.2239 51.8779L95.4749 50.2259Z"
                            fill="#432400"
                        />
                        <path
                            d="M80.5759 31.5293C82.3339 32.3273 84.4399 32.9353 86.9179 33.1133"
                            stroke="#2D1A22"
                            stroke-width="0.75"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M31.7189 32.1426C32.7199 32.1636 34.3449 32.1856 36.4039 32.1656"
                            stroke="#2D1A22"
                            stroke-width="0.75"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M37.6809 39.3421C37.6809 39.3421 45.0369 35.4391 50.2159 39.7171L50.0269 38.9871C49.9389 38.6481 49.7269 38.3591 49.4269 38.1781C47.8489 37.2291 42.5689 34.6641 37.6809 39.3421Z"
                            fill="#442A34"
                        />
                        <path
                            d="M47.0129 50.2504C47.0129 51.8944 46.1169 53.2274 45.0109 53.2274C43.9059 53.2274 43.0089 51.8944 43.0089 50.2504C43.0089 48.6064 43.9049 47.2734 45.0109 47.2734C46.1169 47.2734 47.0129 48.6054 47.0129 50.2504Z"
                            fill="#442A34"
                        />
                        <path
                            d="M79.838 39.3421C79.838 39.3421 72.482 35.4391 67.303 39.7171L67.492 38.9871C67.58 38.6481 67.792 38.3591 68.092 38.1781C69.669 37.2291 74.949 34.6641 79.838 39.3421Z"
                            fill="#442A34"
                        />
                        <path
                            d="M70.5059 50.2504C70.5059 51.8944 71.4019 53.2274 72.5079 53.2274C73.6129 53.2274 74.5099 51.8944 74.5099 50.2504C74.5099 48.6064 73.6139 47.2734 72.5079 47.2734C71.4019 47.2734 70.5059 48.6054 70.5059 50.2504Z"
                            fill="#442A34"
                        />
                        <path
                            d="M58.9719 52.4785C58.9719 52.4785 54.4189 60.1345 54.4189 62.9365C54.4189 65.7385 57.5709 67.0895 57.5709 67.0895"
                            stroke="#D1937D"
                            stroke-width="1.2"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M50.8909 71.3926C50.8909 71.3926 52.8679 75.7456 58.9719 75.5956C65.0769 75.4456 68.4539 71.3926 68.4539 71.3926"
                            stroke="#D1937D"
                            stroke-width="1.2"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M23.105 57.2093C23.105 57.2093 21.656 56.7553 21.055 58.8573C20.455 60.9593 24.31 65.1243 26.773 65.0873C26.773 65.0873 28.007 59.6523 23.105 57.2093Z"
                            fill="#F38B82"
                        />
                        <path
                            d="M21.8429 56.4805C21.8429 56.4805 26.8469 58.6825 26.8469 63.5855"
                            stroke="#D1937D"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M21.8429 59.4336C21.8429 59.4336 25.1979 60.4766 26.7729 62.5816"
                            stroke="#D1937D"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M32.623 101.662C35.639 105.17 42.019 106.695 42.019 106.695C42.019 106.695 42.409 105.77 39.156 104.319C36.582 103.171 33.047 100.088 31.679 98.8477C32.267 101.142 34.227 101.642 34.227 101.642C34.227 101.642 33.487 101.545 32.623 101.662Z"
                            fill="#F77D2B"
                        />
                        <path
                            d="M86.243 102.717C86.243 102.717 80.889 108.722 76.736 109.372C76.736 109.372 79.559 106.349 83.741 104.093C84.531 103.667 84.967 103.568 86.243 102.717Z"
                            fill="#F77D2B"
                        />
                        <path
                            d="M54.5929 115.694C46.3719 115.111 37.4909 112.01 34.3219 110.703L31.1289 112.366C34.9549 113.843 44.2089 117.291 48.2639 117.703C53.4429 118.228 54.5929 115.694 54.5929 115.694Z"
                            fill="#F77D2B"
                        />
                        <path
                            d="M92.4019 112.183C90.8129 111.385 89.2419 110.603 87.7299 109.855H87.7289C87.7289 109.855 78.5139 114.444 71.1409 116.183C70.7559 116.274 70.8149 116.838 71.2099 116.835C76.8419 116.799 87.7069 116.183 92.4019 112.183Z"
                            fill="#F77D2B"
                        />
                        <path
                            d="M20.792 160.561L17.49 137.143C17.49 137.143 26.197 158.76 32.652 160.561H20.792Z"
                            fill="#F77D2B"
                        />
                        <path
                            d="M17.49 137.143L20.792 160.561"
                            stroke="#E06C1E"
                            stroke-width="0.75"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M104.607 160.561L107.91 137.143C107.91 137.143 99.2029 158.76 92.7479 160.561H104.607Z"
                            fill="#F77D2B"
                        />
                        <path
                            d="M107.91 137.143L104.607 160.561"
                            stroke="#E06C1E"
                            stroke-width="0.75"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M55.5439 116.052C55.5439 116.052 45.6359 116.052 34.3219 110.703"
                            stroke="#E06C1E"
                            stroke-width="0.75"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M67.2529 116.652C67.2529 116.652 79.0799 115.816 87.7279 109.854"
                            stroke="#E06C1E"
                            stroke-width="0.75"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M42.861 100.215C42.861 100.215 46.863 100.415 60.723 117.103C60.723 117.103 73.033 102.216 78.937 100.215"
                            stroke="#E06C1E"
                            stroke-width="0.75"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M56.12 120.33C56.12 120.33 52.617 125.434 51.116 140.145"
                            stroke="white"
                            stroke-width="0.75"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M66.6279 120.33C66.6279 120.33 69.9309 132.189 69.9809 140.145"
                            stroke="white"
                            stroke-width="0.75"
                            stroke-miterlimit="10"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M50.453 143.217L50.298 143.179C49.586 143.003 49.152 142.284 49.327 141.572L49.554 140.652C49.73 139.94 50.449 139.506 51.161 139.681L51.316 139.719C52.028 139.895 52.462 140.614 52.287 141.326L52.06 142.246C51.885 142.958 51.165 143.393 50.453 143.217Z"
                            fill="white"
                        />
                        <path
                            d="M70.6199 142.988L70.4629 143.014C69.7399 143.134 69.0559 142.644 68.9369 141.921L68.7819 140.986C68.6619 140.263 69.1519 139.579 69.8749 139.46L70.0319 139.434C70.7549 139.314 71.4389 139.804 71.5579 140.527L71.7129 141.462C71.8329 142.185 71.3439 142.868 70.6199 142.988Z"
                            fill="white"
                        />
                    </svg>
                </div>
                <div
                    class="container2 transform -translate-x-24 opacity-0 p-4 rounded-2xl bg-white shadow-md dark:bg-[#3D3D3D] hidden md:row-span-2 md:col-span-2 md:block"
                >
                    <div
                        class="text-4xl text-black dark:text-white font-bold select-none"
                    >
                        Über mich
                    </div>
                    <div
                        class="dark:text-white w-full h-full md:text-md flex flex-col pt-3"
                    >
                        <div>
                            Hi, ich bin Hannes Schacherl. Ich bin 20 Jahre alt
                            und mache gerade meine Ausbildung zum
                            Anwendungsentwickler.
                        </div>
                        <div>
                            Ich bin ein begeisterter Programmierer und habe
                            bereits Erfahrung in verschiedenen
                            Programmiersprachen gesammelt. Ich bin immer auf der
                            Suche nach neuen Herausforderungen.
                        </div>
                    </div>
                </div>
                <a
                    class="container3 transform scale-50 opacity-0 select-none cursor-pointer bg-white shadow-md dark:bg-[#3D3D3D] rounded-2xl row-span-2 md:row-span-2"
                    href="https://github.com/hannesschacherl"
                    target="_blank"
                >
                    <div
                        class="w-full h-full p-2 flex flex-col gap-4 items-center justify-center"
                    >
                        <img
                            src="../public/github.png"
                            alt="github"
                            class="rounded-full w-14 h-14 md:w-20 md:h-20"
                        />
                        <div
                            class="text-[#00DEDE] text-center text-2xl sm:text-3xl font-bold"
                        >
                            Hannes Schacherl
                        </div>
                    </div>
                </a>
                <div
                    class="container4 transform translate-y-24 opacity-0 bg-white shadow-md dark:bg-[#3D3D3D] rounded-2xl row-start-4 md:row-span-4 md:row-start-3 md:col-start-1 md:col-span-1 XsPictureStyle hidden md:block"
                >
                    <div class="w-full h-full hidden dark:block">
                        <img
                            src="../public/Bildung.svg"
                            alt="Bildung"
                            class="w-full h-full p-2 hidden md:block"
                        />
                        <img
                            src="../public/BildungswegSm.svg"
                            alt="Bildung"
                            class="bildungswegMd w-full h-full p-2"
                        />
                        <img
                            src="../public/BildungXs.svg"
                            alt="Bildung"
                            class="bildungswegXs h-full p-4 md:hidden"
                        />
                    </div>
                    <div class="w-full h-full dark:hidden">
                        <img
                            src="../public/LightBildung.svg"
                            alt="Bildung"
                            class="w-full h-full p-2 hidden md:block"
                        />
                        <img
                            src="../public/LightBildungSm.svg"
                            alt="Bildung"
                            class="bildungswegMd w-full h-full p-2"
                        />
                        <img
                            src="../public/LightBildungXs.svg"
                            alt="Bildung"
                            class="bildungswegXs h-full p-4 md:hidden"
                        />
                    </div>
                </div>
                <a
                    class="container5 transform translate-x-24 opacity-0 gap-2 select-none text-center relative font-bold flex items-center justify-center text-2xl sm:text-4xl w-full h-full rounded-2xl shadow-md bg-[#00DEDE] md:col-start-3 md:row-start-4"
                    href="https://maps.app.goo.gl/z4jSG5gHPqTyjc3KA"
                    target="_blank"
                >
                    <svg
                        class=""
                        version="1.0"
                        id="Layer_1"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                        width="46px"
                        viewBox="0 0 64 64"
                        enable-background="new 0 0 64 64"
                        xml:space="preserve"
                    >
                        <path
                            fill="#231F20"
                            d="M32,0C18.746,0,8,10.746,8,24c0,5.219,1.711,10.008,4.555,13.93c0.051,0.094,0.059,0.199,0.117,0.289l16,24 C29.414,63.332,30.664,64,32,64s2.586-0.668,3.328-1.781l16-24c0.059-0.09,0.066-0.195,0.117-0.289C54.289,34.008,56,29.219,56,24 C56,10.746,45.254,0,32,0z M32,32c-4.418,0-8-3.582-8-8s3.582-8,8-8s8,3.582,8,8S36.418,32,32,32z"
                        />
                    </svg>
                    Fürth
                </a>
                <div
                    class="container6 transform translate-x-24 opacity-0 p-4 rounded-2xl bg-white shadow-md dark:bg-[#3D3D3D] col-start-1 row-span-3 col-span-2 md:row-span-2 md:col-span-2 h-full"
                >
                    <div
                        class="text-2xl md:text-4xl text-black dark:text-white font-bold select-none"
                    >
                        Verwendete Technologien
                    </div>
                    <div
                        class="grid grid-cols-5 items-center justify-center h-[calc(100%-40px)] w-full"
                    >
                        <div
                            v-for="technology in technologies"
                            :key="technology.name"
                            class="flex items-center justify-center technology opacity-0"
                        >
                            <a
                                :href="technology.url"
                                target="_blank"
                                rel="noopener noreferrer"
                            >
                                <img
                                    :src="`/tech/${technology.icon}`"
                                    :alt="technology.name"
                                    class="w-12 h-12 md:w-12 md:h-12 cursor-pointer"
                                />
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup lang="ts">
import gsap from 'gsap';
import { onMounted, ref, onBeforeUnmount } from 'vue';

const technologies = ref([
    { name: 'Nuxt', icon: 'nuxt.svg', url: 'https://nuxtjs.org/' },
    {
        name: 'JavaScript',
        icon: 'javascript.svg',
        url: 'https://www.javascript.com/',
    },
    { name: 'Python', icon: 'python.svg', url: 'https://www.python.org/' },
    { name: 'Git', icon: 'git.svg', url: 'https://git-scm.com/' },
    { name: 'GitHub', icon: 'github.svg', url: 'https://github.com/' },
    { name: 'Vue', icon: 'vue.svg', url: 'https://vuejs.org/' },
    {
        name: 'TypeScript',
        icon: 'typescript.svg',
        url: 'https://www.typescriptlang.org/',
    },
    { name: 'Java', icon: 'java.svg', url: 'https://www.java.com/' },
    { name: 'Docker', icon: 'docker.svg', url: 'https://www.docker.com/' },
    { name: 'GitLab', icon: 'gitlab.svg', url: 'https://gitlab.com/' },
]);

const resetElementsState = () => {
    gsap.set('.container1', { y: -96, opacity: 0 });
    gsap.set('.container2', { x: -96, opacity: 0 });
    gsap.set('.container3', { scale: 0.5, opacity: 0 });
    gsap.set('.container4', { y: 96, opacity: 0 });
    gsap.set('.container5', { x: 96, opacity: 0 });
    gsap.set('.container6', { x: 96, opacity: 0 });
    gsap.set('.technology', { opacity: 0, x: -16 });
};

const startAnimations = () => {
    const container = document.querySelector('.entirePage');
    const mm = gsap.matchMedia();

    mm.add('(min-width: 768px)', () => {
        const tl = gsap.timeline({
            onStart: () => {
                container?.classList.add('overflow-hidden');
            },
            onComplete: () => {
                container?.classList.remove('overflow-hidden');
            },
        });

        tl.to('.container3', {
            duration: 0.7,
            scale: 1,
            opacity: 1,
            ease: 'expoScale(0.5, 7, none)',
        })
            .to('.container2', {
                duration: 0.3,
                x: 0,
                opacity: 1,
                ease: 'ease-in',
            })
            .to('.container1', {
                duration: 0.3,
                y: 0,
                opacity: 1,
                ease: 'ease-in',
            })
            .to('.container5', {
                duration: 0.3,
                x: 0,
                opacity: 1,
                ease: 'ease-in',
            })
            .to('.container6', {
                duration: 0.3,
                x: 0,
                opacity: 1,
                ease: 'ease-in',
            })
            .to(['.container4', '.container4 > *'], {
                duration: 0.3,
                y: 0,
                opacity: 1,
                ease: 'ease-in',
            })
            .add(
                gsap.to('.technology', {
                    duration: 0.3,
                    x: 0,
                    opacity: 1,
                    ease: 'ease-in',
                    stagger: 0.12,
                }),
                '-=0.15',
            );
    });

    mm.add('(min-width: 340px) and (max-width: 767px)', () => {
        const tl = gsap.timeline({
            onStart: () => {
                container?.classList.add('overflow-hidden');
            },
            onComplete: () => {
                container?.classList.remove('overflow-hidden');
            },
        });

        tl.fromTo(
            '.container1',
            {
                y: -50,
                opacity: 0,
            },
            {
                duration: 0.3,
                y: 0,
                opacity: 1,
                ease: 'ease-in',
            },
        )
            .fromTo(
                '.container3',
                {
                    scale: 0.5,
                    opacity: 0,
                },
                {
                    duration: 0.5,
                    scale: 1,
                    opacity: 1,
                    ease: 'expoScale(0.5, 7, none)',
                },
            )
            .fromTo(
                '.container5',
                {
                    x: 50,
                    opacity: 0,
                },
                {
                    duration: 0.3,
                    x: 0,
                    opacity: 1,
                    ease: 'ease-in',
                },
            )
            .to('.container6', {
                duration: 0.3,
                x: 0,
                opacity: 1,
                ease: 'ease-in',
            })
            .add(
                gsap.to('.technology', {
                    duration: 0.3,
                    x: 0,
                    opacity: 1,
                    ease: 'ease-in',
                    stagger: 0.12,
                }),
                '-=0.15',
            );
    });
};

const initializePage = () => {
    const allImages = document.querySelectorAll('img');
    let imagesLoaded = 0;

    const checkAllImagesLoaded = () => {
        imagesLoaded += 1;
        if (imagesLoaded === allImages.length) {
            resetElementsState();
            observeElements();
        }
    };

    const observeElements = () => {
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    startAnimations();
                    observer.unobserve(entry.target);
                }
            });
        });

        const elements = document.querySelectorAll(
            '.container1, .container2, .container3, .container4, .container5, .container6',
        );
        elements.forEach((el) => observer.observe(el));
    };

    allImages.forEach((img) => {
        if (img.complete) {
            checkAllImagesLoaded();
        } else {
            img.addEventListener('load', checkAllImagesLoaded);
            img.addEventListener('error', checkAllImagesLoaded);
        }
    });

    const oldSize = ref(window.innerWidth);
    const resizeEvent = () => {
        if (
            (window.innerWidth < 768 && oldSize.value >= 768) ||
            (window.innerWidth >= 768 && oldSize.value < 768)
        ) {
            window.location.reload();
        }
        oldSize.value = window.innerWidth;
    };

    window.addEventListener('resize', resizeEvent);
};

onMounted(() => {
    initializePage();
});
</script>

<style scoped>
.bildungswegMd {
    display: none;
}

@media (min-width: 450px) and (max-width: 767px) {
    .bildungswegMd {
        display: block;
    }
}

.bildungswegXs {
    display: none;
}

@media (max-width: 449px) {
    .bildungswegXs {
        display: block;
    }
}
</style>
